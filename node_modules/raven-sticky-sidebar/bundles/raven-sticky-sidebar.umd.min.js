!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("raven-sticky-sidebar",["exports","@angular/core"],t):t((e=e||self)["raven-sticky-sidebar"]={},e.ng.core)}(this,function(e,t){"use strict";var n=function(){function e(){}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),o=function(){function e(e){this._hostElementRef=e,this.customTopOffset=0,this._containerElement=document.documentElement,this._scrollTop=0,this._scrollDirection="down"}return Object.defineProperty(e.prototype,"containerSelector",{set:function(e){this._containerElement=document.querySelector(e),this._wrapperElement&&this.reset()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._wrapperElement=this.wrapperElementRef.nativeElement,this.reset(),this.addScrollListener(),this.addResizeListener()},e.prototype.reset=function(){this._hostElementRef.nativeElement.style.minHeight="0",this.setSidebarHeight(),this.initTopOffset(),this._scrollTop=this._containerElement.scrollTop},e.prototype.setSidebarHeight=function(e){var t,n=this._hostElementRef.nativeElement;if("none"!==getComputedStyle(n).cssFloat&&(t=e||(this._containerElement===document.documentElement?n.parentElement.offsetHeight:this.getContentBoxHeight(this._containerElement)),n.style.minHeight=t+"px",this._containerElement!==document.documentElement)){var o=this.getContentBoxHeight(this._containerElement);n.offsetHeight<o&&this.setSidebarHeight(o)}},e.prototype.initTopOffset=function(){var e=this.getContentBoxHeight(this._containerElement,!0),t=-1*(this._wrapperElement.offsetHeight-e);this._initialTopOffset=t<this.customTopOffset?t:this.customTopOffset,this._wrapperElement.style.top=this._initialTopOffset+"px"},e.prototype.addScrollListener=function(){var e=this;(this._containerElement===document.documentElement?window:this._containerElement).addEventListener("scroll",function(){requestAnimationFrame(function(){var t=parseInt(e._wrapperElement.style.top),n=e._containerElement.scrollTop,o=n-e._scrollTop;e._scrollDirection=o>0?"down":"up",e._scrollTop=e._containerElement.scrollTop,"down"===e._scrollDirection?t-o<=e._initialTopOffset?e._wrapperElement.style.top=e._initialTopOffset+"px":e._wrapperElement.style.top=t-o+"px":t-o>=e.customTopOffset?e._wrapperElement.style.top=e.customTopOffset+"px":n>-e._initialTopOffset&&(e._wrapperElement.style.top=t-o+"px")})})},e.prototype.addResizeListener=function(){var e=this;window.addEventListener("resize",function(){requestAnimationFrame(function(){return e.reset()})})},e.prototype.getContentBoxHeight=function(e,t){void 0===t&&(t=!1);var n=getComputedStyle(e);return(t?e.clientHeight:e.offsetHeight)-(parseInt(n.paddingTop)+parseInt(n.paddingBottom))-(parseInt(n.borderTopWidth)+parseInt(n.borderBottomWidth))},e.decorators=[{type:t.Component,args:[{selector:"raven-sticky-sidebar",template:'<div #wrapper class="ss-wrapper"><ng-content></ng-content></div>',styles:[".ss-wrapper{position:-webkit-sticky;position:sticky;top:0}"]}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={customTopOffset:[{type:t.Input,args:["topOffset"]}],wrapperElementRef:[{type:t.ViewChild,args:["wrapper",{"static":!0}]}],containerSelector:[{type:t.Input,args:["container"]}]},e}(),i=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[o],imports:[],exports:[o]}]}],e}();e.StickySidebarComponent=o,e.StickySidebarModule=i,e.StickySidebarService=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=raven-sticky-sidebar.umd.min.js.map