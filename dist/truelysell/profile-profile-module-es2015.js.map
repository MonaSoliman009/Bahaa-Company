{"version":3,"sources":["./src/app/admin/profile/profile-routing.module.ts","./src/app/admin/profile/profile.component.css","./src/app/admin/profile/profile.module.ts","./src/app/admin/profile/profile.component.html","./src/app/admin/profile/profile.component.ts"],"names":[],"mappings":"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","file":"profile-profile-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProfileComponent } from './profile.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfileComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWxlLmNvbXBvbmVudC5jc3MifQ== */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProfileComponent } from './profile.component';\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [ ProfileComponent ],\r\n  imports: [\r\n    CommonModule,\r\n    ProfileRoutingModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n  ]\r\n})\r\nexport class ProfileModule { }\r\n","export default \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xl-8 offset-xl-2\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-body profile-menu\\\">\\r\\n                <ul class=\\\"nav nav-tabs nav-tabs-solid\\\" role=\\\"tablist\\\">\\r\\n                    <li class=\\\"nav-item home_tab\\\">\\r\\n                        <a class=\\\"nav-link active\\\" data-toggle=\\\"tab\\\" href=\\\"#profile_settings\\\" role=\\\"tab\\\"\\r\\n                            aria-selected=\\\"false\\\">\\r\\n                            Profile Settings\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li class=\\\"nav-item home_add\\\">\\r\\n                        <a class=\\\"nav-link\\\" data-toggle=\\\"tab\\\" href=\\\"#change_password\\\" role=\\\"tab\\\" aria-selected=\\\"false\\\">\\r\\n                            Change password\\r\\n                        </a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n                <div class=\\\"tab-content\\\">\\r\\n\\r\\n                    <!-- Profile Tab -->\\r\\n                    <div class=\\\"tab-pane fade show active\\\" id=\\\"profile_settings\\\" role=\\\"tabpanel\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                            <label>Username</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" [value]=\\\"user?.name\\\" disabled >\\r\\n                        </div>\\r\\n                        <form>\\r\\n                        \\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>Profile Image</label>\\r\\n                                <div class=\\\"media align-items-center\\\">\\r\\n                                    <div class=\\\"media-left\\\">\\r\\n                                        <img class=\\\"rounded-circle profile-img avatar-view-img\\\"\\r\\n                                            [src]=\\\"(user?.img||user?.image)?(user?.img||user?.image):'assets/img/user.jpg'\\\" alt=\\\"\\\" width=\\\"100\\\" height=\\\"100\\\">\\r\\n                                    </div>\\r\\n                                    <div class=\\\"media-body\\\">\\r\\n                                        <div class=\\\"uploader\\\">\\r\\n                                            <!-- <button class=\\\"btn btn-secondary btn-sm ml-3\\\">Change profile\\r\\n                                               picture</button> -->\\r\\n                                               \\r\\n                                               <div class=\\\"custom-file col-md-4 ml-2\\\">\\r\\n                                                <input (change)=\\\"onFileChange($event)\\\"  type=\\\"file\\\" class=\\\"custom-file-input\\\" id=\\\"validatedCustomFile\\\" required>\\r\\n                                                <label style=\\\"border-color:#ff0080\\\" class=\\\"custom-file-label\\\" >change image</label>\\r\\n                                              </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"mt-4 save-form\\\">\\r\\n                                <button class=\\\"btn btn-primary save-btn\\\" (click)=\\\"saveImage()\\\" type=\\\"button\\\">Save</button>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                    <!-- /Profile Tab -->\\r\\n\\r\\n                    <!-- Password Tab -->\\r\\n                    <div class=\\\"tab-pane fade\\\" id=\\\"change_password\\\" role=\\\"tabpanel\\\">\\r\\n                        <form [formGroup]=\\\"form\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>Current Password</label>\\r\\n                                <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"current\\\" [ngClass]=\\\"{\\r\\n                                    'is-invalid': submitted2 && form.controls.current.errors\\r\\n                                  }\\\">\\r\\n                                  <div\\r\\n                                  class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                  *ngIf=\\\"submitted2 && form.controls.current.errors\\\"\\r\\n                                >\\r\\n                                 Field is required\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>New Password</label>\\r\\n                                <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"password\\\" [ngClass]=\\\"{\\r\\n                                    'is-invalid': submitted2 && form.controls.password.errors\\r\\n                                  }\\\">\\r\\n                                  <div\\r\\n                                  class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                  *ngIf=\\\"submitted2 && form.controls.password.errors\\\"\\r\\n                                >\\r\\n                                 Field is required\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>Repeat Password</label>\\r\\n                                <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"rpassword\\\" [ngClass]=\\\"{\\r\\n                                    'is-invalid': submitted2 && form.controls.rpassword.errors\\r\\n                                  }\\\">\\r\\n                                  <div\\r\\n                                  class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                  *ngIf=\\\"submitted2 &&form.controls.rpassword.errors\\\"\\r\\n                                >\\r\\n                                 Field is required\\r\\n                                </div>\\r\\n                                <div\\r\\n                                class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                *ngIf=\\\"submitted2 &&\\r\\n                                (form.controls.password.errors ||\\r\\n                                  password !== confirmpassword)\\\"\\r\\n                              >\\r\\n                               password and repeat passwoed should be identical\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"mt-4 save-form\\\">\\r\\n                                <button class=\\\"btn save-btn btn-primary\\\" (click)=\\\"onSubmit()\\\" type=\\\"submit\\\">Save</button>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                    <!-- /Password Tab -->\\r\\n\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../services/user.service';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  constructor(private _UserService: UserService, private _fb: FormBuilder) { }\r\n  user: any;\r\n  form: FormGroup;\r\n  submitted2: boolean;\r\n\r\n  ngOnInit(): void {\r\n    this._UserService.getProfile({ id: localStorage.getItem('id'), type: localStorage.getItem('name') }).subscribe((res) => {\r\n      console.log(res);\r\n      this.user = res\r\n    }, (error) => {\r\n\r\n    })\r\n    this.creteForm();\r\n\r\n  }\r\n\r\n  creteForm() {\r\n    this.form = this._fb.group({\r\n      current: [\"\", [Validators.required]],\r\n      password: [\"\", [Validators.required]],\r\n      rpassword: [\"\", [Validators.required]],\r\n\r\n    });\r\n  }\r\n  formData = new FormData();\r\n\r\n  onFileChange(event) {\r\n\r\n\r\n    if (event.target.files && event.target.files[0]) {\r\n      console.log(event.target.files[0]);\r\n      console.log(event.target.files[0].name);\r\n\r\n      this.formData.append('image', event.target.files[0], event.target.files[0].name);\r\n      this.formData.append('id', localStorage.getItem('id'));\r\n\r\n      this.formData.append('type', localStorage.getItem('name'));\r\n\r\n\r\n    }\r\n  }\r\n  alertWithFail(msg) {\r\n    Swal.fire('Failed', msg, 'error').then(\r\n      (res) => {\r\n        location.reload();\r\n      }\r\n    );\r\n  }\r\n  alertWithSuccess(msg) {\r\n    Swal.fire('Done', msg, 'success').then(\r\n      (res) => {\r\n        location.reload();\r\n      }\r\n    );\r\n  }\r\n  saveImage() {\r\n\r\n    this._UserService.uploadImage(this.formData).subscribe((res) => {\r\n\r\n      console.log(res)\r\n      this.alertWithSuccess(\"Saved Successfully\");\r\n\r\n    }, (error) => {\r\n      this.alertWithFail(\"Try Again Later\");\r\n\r\n    });\r\n\r\n  }\r\n  get password() {\r\n    return this.form.get(\"password\").value;\r\n  }\r\n  get confirmpassword() {\r\n    return this.form.get(\"rpassword\").value;\r\n  }\r\n  onSubmit(){\r\n   \r\n    this.submitted2=true;\r\n     if (this.form.valid &&this.password === this.confirmpassword) {\r\n      console.log(this.form.value.password)\r\n\r\n      this._UserService.resetPassword(localStorage.getItem('id'),{\r\n        type:localStorage.getItem('name'),\r\n        password:this.form.value.password\r\n      }).subscribe((res)=>{\r\n        if(res==\"user not exit\"){\r\n          this.alertWithFail(\"user not exit\");\r\n\r\n        }\r\n        this.alertWithSuccess(\"Saved Successfully\");\r\n\r\n       console.log(res)\r\n      },(error)=>{\r\n        this.alertWithFail(\"Try Again Later\");\r\n\r\n      })\r\n    }\r\n   }\r\n}\r\n"],"sourceRoot":"webpack:///"}