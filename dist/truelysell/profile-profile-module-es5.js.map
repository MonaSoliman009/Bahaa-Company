{"version":3,"sources":["webpack:///src/app/admin/profile/profile-routing.module.ts","webpack:///src/app/admin/profile/profile.component.css","webpack:///src/app/admin/profile/profile.module.ts","webpack:///src/app/admin/profile/profile.component.html","webpack:///src/app/admin/profile/profile.component.ts"],"names":["routes","path","component","ProfileRoutingModule","imports","forChild","exports","ProfileModule","declarations","ProfileComponent","_UserService","_fb","formData","FormData","getProfile","id","localStorage","getItem","type","subscribe","res","console","log","user","error","creteForm","form","group","current","required","password","rpassword","event","target","files","name","append","msg","fire","then","location","reload","uploadImage","alertWithSuccess","alertWithFail","get","value","submitted2","valid","confirmpassword","resetPassword","selector","template"],"mappings":"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","file":"profile-profile-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProfileComponent } from './profile.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfileComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWxlLmNvbXBvbmVudC5jc3MifQ== */\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProfileComponent } from './profile.component';\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [ ProfileComponent ],\r\n  imports: [\r\n    CommonModule,\r\n    ProfileRoutingModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n  ]\r\n})\r\nexport class ProfileModule { }\r\n","export default \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xl-8 offset-xl-2\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-body profile-menu\\\">\\r\\n                <ul class=\\\"nav nav-tabs nav-tabs-solid\\\" role=\\\"tablist\\\">\\r\\n                    <li class=\\\"nav-item home_tab\\\">\\r\\n                        <a class=\\\"nav-link active\\\" data-toggle=\\\"tab\\\" href=\\\"#profile_settings\\\" role=\\\"tab\\\"\\r\\n                            aria-selected=\\\"false\\\">\\r\\n                            Profile Settings\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li class=\\\"nav-item home_add\\\">\\r\\n                        <a class=\\\"nav-link\\\" data-toggle=\\\"tab\\\" href=\\\"#change_password\\\" role=\\\"tab\\\" aria-selected=\\\"false\\\">\\r\\n                            Change password\\r\\n                        </a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n                <div class=\\\"tab-content\\\">\\r\\n\\r\\n                    <!-- Profile Tab -->\\r\\n                    <div class=\\\"tab-pane fade show active\\\" id=\\\"profile_settings\\\" role=\\\"tabpanel\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                            <label>Username</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" [value]=\\\"user?.name\\\" disabled >\\r\\n                        </div>\\r\\n                        <form>\\r\\n                        \\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>Profile Image</label>\\r\\n                                <div class=\\\"media align-items-center\\\">\\r\\n                                    <div class=\\\"media-left\\\">\\r\\n                                        <img class=\\\"rounded-circle profile-img avatar-view-img\\\"\\r\\n                                            [src]=\\\"(user?.img||user?.image)?(user?.img||user?.image):'assets/img/user.jpg'\\\" alt=\\\"\\\" width=\\\"100\\\" height=\\\"100\\\">\\r\\n                                    </div>\\r\\n                                    <div class=\\\"media-body\\\">\\r\\n                                        <div class=\\\"uploader\\\">\\r\\n                                            <!-- <button class=\\\"btn btn-secondary btn-sm ml-3\\\">Change profile\\r\\n                                               picture</button> -->\\r\\n                                               \\r\\n                                               <div class=\\\"custom-file col-md-4 ml-2\\\">\\r\\n                                                <input (change)=\\\"onFileChange($event)\\\"  type=\\\"file\\\" class=\\\"custom-file-input\\\" id=\\\"validatedCustomFile\\\" required>\\r\\n                                                <label style=\\\"border-color:#ff0080\\\" class=\\\"custom-file-label\\\" >change image</label>\\r\\n                                              </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"mt-4 save-form\\\">\\r\\n                                <button class=\\\"btn btn-primary save-btn\\\" (click)=\\\"saveImage()\\\" type=\\\"button\\\">Save</button>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                    <!-- /Profile Tab -->\\r\\n\\r\\n                    <!-- Password Tab -->\\r\\n                    <div class=\\\"tab-pane fade\\\" id=\\\"change_password\\\" role=\\\"tabpanel\\\">\\r\\n                        <form [formGroup]=\\\"form\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>Current Password</label>\\r\\n                                <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"current\\\" [ngClass]=\\\"{\\r\\n                                    'is-invalid': submitted2 && form.controls.current.errors\\r\\n                                  }\\\">\\r\\n                                  <div\\r\\n                                  class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                  *ngIf=\\\"submitted2 && form.controls.current.errors\\\"\\r\\n                                >\\r\\n                                 Field is required\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>New Password</label>\\r\\n                                <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"password\\\" [ngClass]=\\\"{\\r\\n                                    'is-invalid': submitted2 && form.controls.password.errors\\r\\n                                  }\\\">\\r\\n                                  <div\\r\\n                                  class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                  *ngIf=\\\"submitted2 && form.controls.password.errors\\\"\\r\\n                                >\\r\\n                                 Field is required\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label>Repeat Password</label>\\r\\n                                <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"rpassword\\\" [ngClass]=\\\"{\\r\\n                                    'is-invalid': submitted2 && form.controls.rpassword.errors\\r\\n                                  }\\\">\\r\\n                                  <div\\r\\n                                  class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                  *ngIf=\\\"submitted2 &&form.controls.rpassword.errors\\\"\\r\\n                                >\\r\\n                                 Field is required\\r\\n                                </div>\\r\\n                                <div\\r\\n                                class=\\\"alert alert-danger my-1 p-2 fadeInDown animated\\\"\\r\\n                                *ngIf=\\\"submitted2 &&\\r\\n                                (form.controls.password.errors ||\\r\\n                                  password !== confirmpassword)\\\"\\r\\n                              >\\r\\n                               password and repeat passwoed should be identical\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"mt-4 save-form\\\">\\r\\n                                <button class=\\\"btn save-btn btn-primary\\\" (click)=\\\"onSubmit()\\\" type=\\\"submit\\\">Save</button>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                    <!-- /Password Tab -->\\r\\n\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../services/user.service';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  constructor(private _UserService: UserService, private _fb: FormBuilder) { }\r\n  user: any;\r\n  form: FormGroup;\r\n  submitted2: boolean;\r\n\r\n  ngOnInit(): void {\r\n    this._UserService.getProfile({ id: localStorage.getItem('id'), type: localStorage.getItem('name') }).subscribe((res) => {\r\n      console.log(res);\r\n      this.user = res\r\n    }, (error) => {\r\n\r\n    })\r\n    this.creteForm();\r\n\r\n  }\r\n\r\n  creteForm() {\r\n    this.form = this._fb.group({\r\n      current: [\"\", [Validators.required]],\r\n      password: [\"\", [Validators.required]],\r\n      rpassword: [\"\", [Validators.required]],\r\n\r\n    });\r\n  }\r\n  formData = new FormData();\r\n\r\n  onFileChange(event) {\r\n\r\n\r\n    if (event.target.files && event.target.files[0]) {\r\n      console.log(event.target.files[0]);\r\n      console.log(event.target.files[0].name);\r\n\r\n      this.formData.append('image', event.target.files[0], event.target.files[0].name);\r\n      this.formData.append('id', localStorage.getItem('id'));\r\n\r\n      this.formData.append('type', localStorage.getItem('name'));\r\n\r\n\r\n    }\r\n  }\r\n  alertWithFail(msg) {\r\n    Swal.fire('Failed', msg, 'error').then(\r\n      (res) => {\r\n        location.reload();\r\n      }\r\n    );\r\n  }\r\n  alertWithSuccess(msg) {\r\n    Swal.fire('Done', msg, 'success').then(\r\n      (res) => {\r\n        location.reload();\r\n      }\r\n    );\r\n  }\r\n  saveImage() {\r\n\r\n    this._UserService.uploadImage(this.formData).subscribe((res) => {\r\n\r\n      console.log(res)\r\n      this.alertWithSuccess(\"Saved Successfully\");\r\n\r\n    }, (error) => {\r\n      this.alertWithFail(\"Try Again Later\");\r\n\r\n    });\r\n\r\n  }\r\n  get password() {\r\n    return this.form.get(\"password\").value;\r\n  }\r\n  get confirmpassword() {\r\n    return this.form.get(\"rpassword\").value;\r\n  }\r\n  onSubmit(){\r\n   \r\n    this.submitted2=true;\r\n     if (this.form.valid &&this.password === this.confirmpassword) {\r\n      console.log(this.form.value.password)\r\n\r\n      this._UserService.resetPassword(localStorage.getItem('id'),{\r\n        type:localStorage.getItem('name'),\r\n        password:this.form.value.password\r\n      }).subscribe((res)=>{\r\n        if(res==\"user not exit\"){\r\n          this.alertWithFail(\"user not exit\");\r\n\r\n        }\r\n        this.alertWithSuccess(\"Saved Successfully\");\r\n\r\n       console.log(res)\r\n      },(error)=>{\r\n        this.alertWithFail(\"Try Again Later\");\r\n\r\n      })\r\n    }\r\n   }\r\n}\r\n"]}